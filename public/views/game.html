<!DOCTYPE HTML>
<html>

<head>
    <title>pixi.js example 1</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #0000FF;
            overflow: hidden;
        }
    </style>
    
    <script src="/lib/babel-core/browser.min.js" charset="utf-8"></script>
    <script src="/lib/babel-core/browser-polyfill.min.js" charset="utf-8"></script>
    <script src="/lib/es6-module-loader/dist/es6-module-loader.js"></script>
    <script>
      System.transpiler = 'babel';
      System.baseURL = '/js/';
    </script>
    <script src="/js/pixi.js"></script>
</head>

<body>
    <script type="module">
        import {createContainer} from 'mymodule'


        // create a renderer instance
        let renderer = new PIXI.WebGLRenderer(400, 300,{
            antialias : false
        }); //autoDetectRenderer(400, 300);
        PIXI.SCALE_MODES.DEFAULT = PIXI.SCALE_MODES.NEAREST;
        // add the renderer view element to the DOM
        document.body.appendChild(renderer.view);

        requestAnimationFrame(animate);

        // create a texture from an image path
        var texture = PIXI.Texture.fromImage("/assets/bunny.png");
        // create a new Sprite using the texture
        var bunny = new PIXI.Sprite(texture);

        // center the sprites anchor point
        bunny.anchor.x = 0.5;
        bunny.anchor.y = 0.5;

        // move the sprite t the center of the screen
        bunny.position.x = 50;
        bunny.position.y = 30;

        var container = createContainer(renderer);
        container.addChild(bunny);

        var lastTime = Date.now(),
            timeSinceLastFrame = 0;
    
        function animate() {

            requestAnimationFrame(animate);

            // just for fun, lets rotate mr rabbit a little
            var now = Date.now();
            timeSinceLastFrame = now - lastTime;
            bunny.rotation += (timeSinceLastFrame/1000);
            lastTime = now;

            // render the stage
            renderer.render(container);
        }
    </script>

    <button id="myButton" onClick="RequestFullscreen()" style="position:absolute;left:10px;top:5px;height:50px;opacity:0.5;">Go Fullscreen!</button>

</body>

</html>